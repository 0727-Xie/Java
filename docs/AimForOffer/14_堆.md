# 堆

## 1、字符流中第一个不重复的字符（7）

[字符流中第一个不重复的字符](https://www.nowcoder.com/practice/00de97733b8e4f97a3fb5c680ee10720?tpId=13&tqId=11207&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

```java

```



## 2、数据流中的中位数（18）

[数据流中的中位数](https://www.nowcoder.com/practice/9be0172896bd43948f8a32fb954e1be1?tpId=13&tqId=11216&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

```java
private int n;//当前数据流元素数

//大根堆，维护数组左边元素
private PriorityQueue<Integer> left = new PriorityQueue<>(new Comparator<Integer>() {
    @Override
    public int compare(Integer o1, Integer o2) {
        return o2-o1;
    }
});

//小根堆，维护数组右边元素。右边元素均大于左边元素
private PriorityQueue<Integer> right = new PriorityQueue<>();

public void Insert(Integer num) {
    /* 插入要保证两个堆存于平衡状态 */
    if(n%2==0){
        //注意：这里 left 先加入 num,然后又将最大值加入到 right 中。
        //left 的长度没有变化，right 中添加一个元素
        left.add(num); //插入大根堆中
        right.add(left.poll()); // left.poll() 是左侧的最大值
    }else{
        right.add(num);
        left.add(right.poll());
    }
    n++;
}

public Double GetMedian() {
    if(n%2==0){ // n 是偶数
        return (left.peek()+right.peek())/2.0;
    }else{ // n 是奇数，注意是奇数时，中位数被放入到 right 中（是 insert 操作而定）
        return (double)right.peek();
    }
}
```



## 3、滑动窗口的最大值（20）

[滑动窗口的最大值](https://www.nowcoder.com/practice/1624bc35a45c42c0bc17d17fa0cba788?tpId=13&tqId=11217&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

```java

```



## 4、最小的 k 个数（44）

[最小的 k 个数](https://www.nowcoder.com/practice/6a296eb82cf844ca8539b57c23e6e9bf?tpId=13&tqId=11182&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

```java

```

